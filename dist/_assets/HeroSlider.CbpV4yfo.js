import{j as i}from"./jsx-runtime.C9eWo9jt.js";import{r as s}from"./index.B52nOzfP.js";import{M as $,u as M,P as L,a as T,b as D,L as H,m as k}from"./proxy.Bu4eLjTI.js";class K extends s.Component{getSnapshotBeforeUpdate(r){const t=this.props.childRef.current;if(t&&r.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function U({children:n,isPresent:r}){const t=s.useId(),e=s.useRef(null),g=s.useRef({width:0,height:0,top:0,left:0}),{nonce:h}=s.useContext($);return s.useInsertionEffect(()=>{const{width:u,height:l,top:p,left:o}=g.current;if(r||!e.current||!u||!l)return;e.current.dataset.motionPopId=t;const c=document.createElement("style");return h&&(c.nonce=h),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${l}px !important;
            top: ${p}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[r]),i.jsx(K,{isPresent:r,childRef:e,sizeRef:g,children:s.cloneElement(n,{ref:e})})}const _=({children:n,initial:r,isPresent:t,onExitComplete:e,custom:g,presenceAffectsLayout:h,mode:u})=>{const l=M(A),p=s.useId(),o=s.useCallback(f=>{l.set(f,!0);for(const C of l.values())if(!C)return;e&&e()},[l,e]),c=s.useMemo(()=>({id:p,initial:r,isPresent:t,custom:g,onExitComplete:o,register:f=>(l.set(f,!1),()=>l.delete(f))}),h?[Math.random(),o]:[t,o]);return s.useMemo(()=>{l.forEach((f,C)=>l.set(C,!1))},[t]),s.useEffect(()=>{!t&&!l.size&&e&&e()},[t]),u==="popLayout"&&(n=i.jsx(U,{isPresent:t,children:n})),i.jsx(L.Provider,{value:c,children:n})};function A(){return new Map}const v=n=>n.key||"";function I(n){const r=[];return s.Children.forEach(n,t=>{s.isValidElement(t)&&r.push(t)}),r}const B=({children:n,custom:r,initial:t=!0,onExitComplete:e,presenceAffectsLayout:g=!0,mode:h="sync",propagate:u=!1})=>{const[l,p]=T(u),o=s.useMemo(()=>I(n),[n]),c=u&&!l?[]:o.map(v),f=s.useRef(!0),C=s.useRef(o),y=M(()=>new Map),[N,z]=s.useState(o),[m,R]=s.useState(o);D(()=>{f.current=!1,C.current=o;for(let d=0;d<m.length;d++){const a=v(m[d]);c.includes(a)?y.delete(a):y.get(a)!==!0&&y.set(a,!1)}},[m,c.length,c.join("-")]);const j=[];if(o!==N){let d=[...o];for(let a=0;a<m.length;a++){const x=m[a],E=v(x);c.includes(E)||(d.splice(a,0,x),j.push(x))}h==="wait"&&j.length&&(d=j),R(I(d)),z(o);return}const{forceRender:w}=s.useContext(H);return i.jsx(i.Fragment,{children:m.map(d=>{const a=v(d),x=u&&!l?!1:o===m||c.includes(a),E=()=>{if(y.has(a))y.set(a,!0);else return;let P=!0;y.forEach(S=>{S||(P=!1)}),P&&(w?.(),R(C.current),u&&p?.(),e&&e())};return i.jsx(_,{isPresent:x,initial:!f.current||t?void 0:!1,custom:x?void 0:r,presenceAffectsLayout:g,mode:h,onExitComplete:x?void 0:E,children:d},a)})})},b=[{url:"/slider/Slide1.jpg",alt:"Centro de rehabilitación",caption:"Instalaciones modernas y confortables"},{url:"/slider/slide2.jpg",alt:"Terapia grupal",caption:"Sesiones terapéuticas personalizadas"},{url:"/slider/slide3.jpg",alt:"Áreas verdes",caption:"Espacios diseñados para tu recuperación"}],V=()=>{const[n,r]=s.useState(0);return s.useEffect(()=>{const t=setInterval(()=>{r(e=>e===b.length-1?0:e+1)},5e3);return()=>clearInterval(t)},[]),i.jsxs("div",{className:"relative w-full h-[300px] sm:h-[400px] md:h-[450px] lg:h-[550px] ",children:[i.jsx(B,{initial:!1,children:i.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0",children:i.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${b[n].url})`,backgroundPosition:"50% 30%"},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 to-black/50",children:i.jsx("div",{className:"container mx-auto h-full flex items-center justify-start text-left px-2",children:i.jsx("div",{className:"text-white max-w-3xl",children:i.jsx(k.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4",children:b[n].caption})})})})})},n)}),i.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:b.map((t,e)=>i.jsx("button",{onClick:()=>r(e),className:`w-3 h-3 rounded-full transition-all ${e===n?"bg-white scale-110":"bg-white/50 hover:bg-white/75"}`},e))})]})};export{V as HeroSlider};
